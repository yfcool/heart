<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>i xx ———— dd</title>
</head>
<body>
    <h1 id="start-time"></h1>
    <h1 id="start-day"></h1>
    
    <script>
        setInterval(() => {
            document.getElementById("start-time").innerHTML = timeElapse();
            document.getElementById("start-day").innerHTML = timeDay();
        }, 1000);
        
        function timeElapse() {
            let a = new Date();
            let b = new Date('2022-05-29 23:00');
            let c = a.valueOf() - b.valueOf();
            c = new Date(c);
            let result = c.getFullYear() - 1970 + '年' + (c.getMonth()) + '个月' + (c.getDate()-1) + '天' + (c.getHours()-8) + '个小时' + c.getMinutes() + '分钟' + c.getSeconds() + '秒';
            // 天也要往前推一天，小时需要减去8，但是问题是减8后hour会出现负值，
            if((c.getHours()-8)<0){
                result = c.getFullYear() - 1970 + '年' + (c.getMonth()) + '个月' + (c.getDate()-1) + '天' + (c.getHours()-8+24) + '个小时' + c.getMinutes() + '分钟' + c.getSeconds() + '秒';
            }
            return result;
        }
        function timeDay(){
            let a = new Date();
            let b = new Date('2022-05-29 23:00');
            let c = a.valueOf() - b.valueOf();
            c = c / 1000 / 24 / 60 / 60;
            let day = parseInt(c); // 天
            let h = parseInt((c-day)*24); // 时
            let m = parseInt((c-day-h/24)*24*60); // 分
            let s = parseInt((c-day-h/24-m/60/24)*24*60*60); // 秒
            let str=day+"天"+h+"小时"+m+"分"+s+"秒";
            return str;
        }
    </script>
</body>
</html>
